# Окружение
Для удобства работы над проектом используются инструменты из Node.js и npm. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз Node.js**. Актуальная версия Node.js указана в файле package.json в поле node. Затем, в терминале, перейдите в директорию с проектом и единожды запустите команду:

bash
npm install
Настройка окружения
Скопируйте файл .env.example в .env:

bash
cp .env.example .env
Заполните все необходимые переменные окружения в файле .env

Убедитесь, что все обязательные переменные установлены

Сценарии
В package.json предопределено несколько сценариев.
## Основные команды
bash
npm start               # Сборка и запуск приложения (проверяет переменные окружения)
npm run build          # Полная сборка проекта (очистка + компиляция)
npm run compile        # Компиляция TypeScript в JavaScript
npm run clean          # Удаление скомпилированной директории dist
Проверка кода
bash
npm run lint           # Проверка кода статическим анализатором ESLint
npm run lint:fix       # Автоматическое исправление ошибок линтера
Разработка
bash
npm run ts -- <путь>   # Запуск TS-модуля без компиляции через ts-node
CLI команды
bash
npm run ts ./src/main.cli.ts -- --help           # Показать справку CLI
npm run ts ./src/main.cli.ts -- --version        # Показать версию приложения
npm run ts ./src/main.cli.ts -- --import <file>  # Импорт данных из TSV
Работа с моковыми данными
npm run mock:server
Запускает JSON-сервер с моковыми данными на порту 3123.

База данных: mocks/mock-server-data.json

Эндпоинт: http://localhost:3123/api - все данные доступны через этот endpoint

Структура данных:

cities: список городов

titles: заголовки предложений

descriptions: описания предложений

offerImages: изображения предложений

types: типы жилья

goods: удобства

users: имена пользователей

emails: email адреса

avatars: аватары пользователей

locations: координаты городов
### Генерация данных
Команда GenerateCommand ожидает несколько аргументов:

<count> — обязательный. Количество объявлений для генерации.

<filepath> — обязательный. Путь к файлу для записи результата.

<url> — обязательный. URL сервиса (JSON-server).

Вызов команды должен выглядеть так:

Запустите в одном терминале JSON-server:

bash
npm run mock:server
Затем откройте второй терминал и выполните команду --generate:

bash
npm run ts ./src/main.cli.ts -- --generate 100 ./mocks/test-data.tsv http://localhost:3123/api
Импорт данных в базу данных
Для импорта данных из TSV-файла в базу данных:

bash
npm run cli -- --import <filename> <login> <password> <host> <dbname> <salt>
Параметры:

<filename> — путь к TSV-файлу с данными

<login> — имя пользователя БД

<password> — пароль пользователя БД

<host> — хост базы данных

<dbname> — имя базы данных

<salt> — соль для хеширования паролей

Пример:

```
npm run cli -- --import ./mocks/offers.tsv admin password localhost six-cities my-salt
```
Примечание: Эта команда использует скомпилированную версию приложения, поэтому требуется предварительная сборка проекта (npm run build).

#### DOCKER
Для запуска проекта с использованием Docker выполните в терминале:

bash
docker-compose \
  --file ./docker-compose.yml \
  --env-file ./.env \
  --project-name "six-cities" \
  up \
  -d
Конфигурация Docker Compose:

--file ./docker-compose.yml — путь к файлу docker-compose.yml

--env-file ./.env — путь к файлу с переменными окружения

--project-name "six-cities" — имя проекта для префиксов контейнеров

up -d — запуск контейнеров в фоновом режиме

Дополнительные команды
Скомпилировать проект
bash
npm run compile
Создаст директорию dist и скомпилирует проект.

Удалить скомпилированный проект
bash
npm run clean
Удаляет директорию dist. Используется перед компиляцией.

Собрать проект
bash
npm run build
Выполняет сборку проекта: удаляет ранее скомпилированный проект и компилирует заново.

Проверить линтером
bash
npm run lint
Запуск проверки проекта статическим анализатором кода ESLint.

Линтер проверяет файлы только внутри директории src.

Обратите внимание, при запуске данной команды, ошибки выводятся в терминал.

Запустить ts-модуль без компиляции
bash
npm run ts -- <Путь к модулю с ts-кодом>
Пакет ts-node позволяет выполнить TS-код в Node.js без предварительной компиляции. Используется только на этапе разработки.

Запустить проект
bash
npm start
В процессе запуска проекта будет выполнен процесс «Сборки проекта» и запуска результирующего кода.

Структура проекта
Директория src
Исходный код проекта: компоненты, модули и так далее. Структура директории src может быть произвольной.

Файл Readme.md
Инструкции по работе с учебным репозиторием.

Файл Contributing.md
Советы и инструкции по внесению изменений в учебный репозиторий.

Остальное
Все остальные файлы в проекте являются служебными. Пожалуйста, не удаляйте и не изменяйте их самовольно. Только если того требует задание или наставник.
